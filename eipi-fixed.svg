<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="-5 -5 10 10">

  <g id="container" stroke-width="0.05" fill="white" fill-opacity="0.0">
    <path d="M -10 0 l 20 0" stroke="blue" stroke-opacity="0.2"/>
    <path d="M 1 -10 l 0 20" stroke="blue" stroke-opacity="0.2"/>
    <path id="path" stroke="black" />
  </g>

  <script type="text/javascript"><![CDATA[
    var maxSpiralCount = 15;
    var spiralTimeIncrement = 100;

    var container = document.getElementById("container");
    var spiralCount = 0;

    function getPoints(steps) {
      var points = [];
      var horiz = true;
      var x = 1;
      var y = 0;
      points.push({x: x, y: y});
      var dist = 1;
      x += dist;
      points.push({x: x, y: y});
      for (var i = 1; i < steps; i++) {
      console.log(dist);
        horiz = !horiz;
        dist = dist * Math.PI / i;
        if (i % 2 == 1) {
          dist = -dist;
        }
        if (horiz) {
          x += dist;
        } else {
          y += dist;
        }
        points.push({x: x, y: y});
      }
      return points;
    }

    function getPointsAsPath(points) {
      var d = "";
      points.forEach(function(p, index, array) {
        d += (d.length == 0 ? "M" : "L") + " " + p.x + " " + p.y + " ";
      });
      return d;
    }

    var points = getPoints(20);

    function spiral() {
      spiralCount++;
      if (spiralCount == maxSpiralCount) {
        spiralCount = points.length;
      }
      var d = getPointsAsPath(points.slice(0, spiralCount));
      document.getElementById("path").setAttribute('d', d);
      if (spiralCount == points.length) {
        spiralCount = 0;
      }
      setTimeout(spiral, spiralTimeIncrement);
    }

    function start() {
      spiralCount = 0;
      setTimeout(spiral, spiralTimeIncrement);
    }

    start();
    ]]></script>

</svg>
